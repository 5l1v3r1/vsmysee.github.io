---
layout: article
title: 我对Class的认识
---

Java,C++,C#，都有一个Class关键字，用它来定义类，类是什么？类是种类，我们写下一个Class就是声明了一个类别，一个种类，然后用这个种类去创造出属于这个种类的对象，这个合理吗？ 


类别是虚拟的，而对象是真实的，类别只是我们人为扣到某些对象上的帽子，人和猪都是动物，花草是植物，动物和植物都是我们人扣到真实对象（猪，花，草）上的帽子，那么问题来了？这个类别是一种人为指定，可以是公理上的东西，类别如果稳定则罢，如果不稳定呢？就像数学这么严谨的学问还要发生危机一样。你凭什么说这个对象就是属于这个类别？你的归类前提是什么？ 


对象可以是真实的物件，也可以虚拟出一些对象，对象有它的本质特征属性，同时具备一些行为能力，对象与对象之间通过彼此的行为能力交谈和协作，就像我们人，不同的人有不同的行为能力，他能编程，你能搞销售，我能搞主持，但是这些人都有一些共同的特征属性，但是还有些人有不同的特征属性和共同的行为能力。我们用Class的方式只能把共同的特征和共同的行为能力提出来，那些特有的能力和特征属性是没有办法的，而这恰恰也是需求变化的地方，不过问题没这么简单，那些找到的共同的行为能力和特征属性有可能在某个时候也消失在了某些对象身上。 


完了，怎么办？如果能够直接定义对象，比如 Object o = {},{}里是这个对象的特征和行为能力，现在是空的，然后随着这个对象的不断长大和演化有了它自己的特征和行为，特征和行为越来越丰富，某些特征和行为可能在中途消失，如果这个演化过程是外力作用，我们可以在o上不断的加减特征和行为，然后这个对象被一群自以为聪明的人类归类了，这个归类似乎也比较稳定，有些都写进教科书了，但是这个对象是那么的不可捉摸，它会在某些时候有某些特征和某些行为，比如O在得了一场大病之后才具备真爱家人的行为能力，O在16岁之后长了胡子和想找女朋友，出了这个条件场景，O就是没有相应的特征和行为，如果计算机编程可以支持这种模式，那么我们程序员就会少死几个脑细胞了，所以我们的Class归类如果不稳定，就只是归类对象在演化的某个阶段。 


回到Java,我们要完成刚才的编程梦想，至少是接近该怎么做？对象的分类应该可以找到一个相对稳定的维度，找到这个维度我们来定义Class,然后通过这个Class出来的对象是一相对稳定的对象，然后我们在系统中设定各种演化场景，比如上面说的得病和16岁，当对象进入个场景的时候，理论上应该是对象自动拥有某些特征和行为，但是为了能够用Java实现，我们就把这些特征和行为放到场景上，这些场景的设计我们又可以通过观察来归类和抽象，这样，稳定对象和场景加上事件应该该可以比较优雅的编写代码，这里的事件可能是对象自身抛出的，也可能在场景中抛出，不过关系都不大，事件建模相对简单，事件的作用就是解耦，驱动其他对象或者一些组件。 

在Js和IO这样的语言中是没有类的概念的，只有真实存在的对象，新对象都是基于已有对象通过复制和修改的。这已经验证无类语言表达世界的能力。

接下来就是我们曾经被当做编程中心和重心的数据了，数据，概念上应该是对象的特征属性，当然科学技术中那种赤果果的数据不在我们的考虑范围，我们要把对象的特征属性保存起来，这个保存动作的介入就比较棘手，是对象自身有这个行为呢？还是我们用技术手动动态监控？还是对象扔事件，这个事件包含数据？最不好搞的还有数据的一致性，这需要引入事务，分布式事务，锁等技术概念。
