---
layout: article
title: 规则引擎的思考
---

语言是由命题构成的，世界是由事实构成的，这是天才哲学家维特根斯坦说的，我们在生活中也经常说，事实上怎么怎么，事实上的标准等等。计算机试图不放过这个世界的任何一个领域，那么计算机是如何理解世界由事实构成这句话呢？

### 数学和事实
大家可能知道有一本很古老的书叫几何原本，里面假设了这个世界的5条公理，我们可以认为这是一种基本事实，通过这5条公理，不断的演绎推理得到了大量美丽的定理，这是数学中我发现的和事实相关的东西，基于一些基本事实得到更多的事实，从基本到更多的过程
需要遵循逻辑规则，逻辑规则本身其实是一个组合基本事实的过程。

### 计算
图灵机和递归函数都可以有效的表达计算，同样一个计算问题我们发现可以用图灵机械模型来完成，也可以用函数递归来完成，现在我们发现它还可以通过事实和规则通过推理来完成，我们以Fibonacci数列为例，数列如下：
0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, 987, 1597, 2584, 4181, 6765, 10946，………………，数列的第一个和第二个数字比较特殊，就单纯是0,1，但是从第三个数字开始，它就等于前两个数字的和，现在得到一个计算问题，假如给定一个位置请计算出这个位置的Fibonacci数，
对于这个问题，用图灵机械步骤会得到下面的程序，我们用一条长长的纸带来存储：
{% highlight javascript %}
var position = 10; //位置
var fib = []; //存储

fib[0] = 0;fib[1] = 1;
for(i=2; i<=position; i++) {
    fib[i] = fib[i-2] + fib[i-1];
}

var result = fib[position]; //得到这个位置的数
{% endhighlight %}

不使用机械步骤，用函数来写，会得到这个样子：
{% highlight javascript %}
function fib(n){
  return n<2 ? n: fib(n-1)+fib(n-2);
}
var result = fib(10);
{% endhighlight %}

这不是我们的目的，怎么用规则和事实的角度来表达呢？Fibonacci数列中的事实有三条：
1. 第一个数字是0
2. 第二个数字是1
3. 从第三个数字开始，这个数字是前两个数字的和